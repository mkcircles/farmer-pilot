import{b as N,a as y,n as F,r as c,A as C,u,R as h,d as x,B as p,j as e,o as b,c as A}from"./app-25da55ac.js";import{e as S,l as q,o as E}from"./Tracker-2ee0a400.js";import{B as R}from"./index-f50c90c2.js";import{F as i}from"./index-fcc51059.js";import{F as l}from"./index-6c5b372e.js";import{F as B}from"./index-edd92eb9.js";import{H as L}from"./home-f718cb42.js";import"./Transition-afe206db.js";import"./default-config-939e3be8.js";import"./tw-merge-fbb83fc6.js";const T=()=>{const g=N(),f=y(),{state:{fpo:s}}=F(),{updateAppContextState:d}=c.useContext(C),m=u(a=>{var n;return(n=a.auth)==null?void 0:n.token}),j=u(a=>{var n;return(n=a.auth)==null?void 0:n.user}),[r,t]=h.useState({first_name:"",last_name:"",email:"",phone_number:"",age:"",gender:"",residence:"",referee_name:"",referee_phone_number:"",designation:"",fpo_id:(s==null?void 0:s.fpo_id)||"",created_by:j.id}),[o,v]=h.useState([]),_=()=>{d("loading",!0),x.post(`${p}/agent/register`,r,{headers:{Authorization:`Bearer ${m}`}}).then(a=>{g(b),f(A({message:"New Agent has been added successfully"}))}).catch(a=>{console.log(a)}).finally(()=>{d("loading",!1)})};return c.useEffect(()=>{s&&t({...r,fpo_id:s==null?void 0:s.fpo_id})},[s]),c.useEffect(()=>{d("loading",!0),x.get(`${p}/fpos/summary`,{headers:{Authorization:`Bearer ${m}`}}).then(a=>{var n;v((n=a==null?void 0:a.data)==null?void 0:n.data)}).catch(a=>{console.log(a)}).finally(()=>{d("loading",!1)})},[]),e.jsxs("form",{className:"py-8 px-8",onSubmit:a=>{a.preventDefault(),_()},children:[e.jsx(S,{children:`Create a new Agent for ${s==null?void 0:s.fpo_name}`||"Create New Agent"}),s!=null&&s.fpo_id?null:e.jsxs("div",{className:"py-4",children:[e.jsx(l,{htmlFor:"fpo_id",children:"Select FPO"}),e.jsx(q,{id:"fpo_id",value:r==null?void 0:r.fpo_id,onValueChange:a=>t({...r,fpo_id:a}),children:o==null?void 0:o.map((a,n)=>e.jsx(E,{value:a==null?void 0:a.id,icon:L,children:a==null?void 0:a.fpo_name},n))})]}),e.jsxs("div",{className:"flex space-x-4 items-center py-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"First Name"}),e.jsx(i,{id:"first_name",required:!0,type:"text",placeholder:"First Name",value:r.first_name,onChange:a=>t({...r,first_name:a.target.value})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Last Name"}),e.jsx(i,{id:"last_name",required:!0,type:"text",placeholder:"Last Name",value:r.last_name,onChange:a=>t({...r,last_name:a.target.value})})]})]}),e.jsxs("div",{className:"flex space-x-4 items-center py-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Email"}),e.jsx(i,{id:"email",type:"email",placeholder:"",value:r.email,onChange:a=>t({...r,email:a.target.value})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Phone Number"}),e.jsx(i,{id:"phone_number",required:!0,type:"text",placeholder:"",value:r.phone_number,onChange:a=>t({...r,phone_number:a.target.value})})]})]}),e.jsxs("div",{className:"flex space-x-4 items-center py-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Age"}),e.jsx(i,{id:"age",required:!0,type:"number",placeholder:"",value:r.age,onChange:a=>t({...r,age:a.target.value})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Gender"}),e.jsxs(B,{id:"gender",required:!0,value:r.gender,onChange:a=>t({...r,gender:a.target.value}),children:[e.jsx("option",{selected:!0,value:"",children:"-- Choose gender --"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"flex space-x-4 items-center py-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Designation"}),e.jsx(i,{id:"designation",required:!0,type:"text",placeholder:"",value:r.designation,onChange:a=>t({...r,designation:a.target.value})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Residence"}),e.jsx(i,{id:"residence",required:!0,type:"text",placeholder:"",value:r.residence,onChange:a=>t({...r,residence:a.target.value})})]})]}),e.jsxs("div",{className:"flex space-x-4 items-center py-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Referee Name"}),e.jsx(i,{id:"referee_name",required:!0,type:"text",placeholder:"",value:r.referee_name,onChange:a=>t({...r,referee_name:a.target.value})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:"regular-form-1",children:"Referee Phone number"}),e.jsx(i,{id:"referee_phone_number",type:"text",required:!0,placeholder:"",value:r.referee_phone_number,onChange:a=>t({...r,referee_phone_number:a.target.value})})]})]}),e.jsx("div",{className:"flex py-4",children:e.jsx(R,{"data-btn-role":"submit",variant:"primary",className:"w-full xl:mr-3",onClick:()=>{},children:"Save"})})]})};export{T as default};
