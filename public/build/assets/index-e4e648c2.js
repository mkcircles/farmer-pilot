import{a as h,b,r as g,A as j,R as c,j as e,g as v,h as N,i as k,v as w,B as y}from"./app-9c2b694a.js";import{B as A}from"./index-8345b162.js";import{F as d,a as C}from"./index-7ecb442f.js";import"./tw-merge-fbb83fc6.js";import"./default-config-939e3be8.js";function P(){const s=h(),x=b(),{updateAppContextState:r}=g.useContext(j),[o,p]=c.useState(""),[l,u]=c.useState(""),f=()=>{let a=`${y}/login`;r("loading",!0),axios.post(a,{email:o,password:l}).then(t=>{var n,i,m;["admin","fpo_user"].includes((m=(i=(n=t==null?void 0:t.data)==null?void 0:n.data)==null?void 0:i.user)==null?void 0:m.role)?(s(v(t.data.data.token)),s(N(t.data.data.user)),x("/")):s(k({message:"You are not authorized to access this resource.",id:w()}))}).catch(t=>{console.log(t)}).finally(()=>{r("loading",!1)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"flex items-center justify-center w-full min-h-screen p-5 md:p-20",children:e.jsxs("div",{className:"w-96 intro-y",children:[e.jsx("div",{className:"text-2xl font-medium text-center text-white dark:text-slate-300 mt-14",children:"Login to Your Account!"}),e.jsxs("div",{className:"box px-5 py-8 mt-10 max-w-[450px] relative before:content-[''] before:z-[-1] before:w-[95%] before:h-full before:bg-slate-200 before:border before:border-slate-200 before:-mt-5 before:absolute before:rounded-lg before:mx-auto before:inset-x-0 before:dark:bg-darkmode-600/70 before:dark:border-darkmode-500/60",children:[e.jsx(d,{name:"email",type:"text",className:"block px-4 py-3",placeholder:"Email",value:o,onChange:a=>p(a.target.value)}),e.jsx(d,{name:"password",type:"password",className:"block px-4 py-3 mt-4",placeholder:"Password",value:l,onChange:a=>u(a.target.value)}),e.jsxs("div",{className:"flex mt-4 text-xs text-slate-500 sm:text-sm",children:[e.jsxs("div",{className:"flex items-center mr-auto",children:[e.jsx(C.Input,{id:"remember-me",type:"checkbox",className:"mr-2 border"}),e.jsx("label",{className:"cursor-pointer select-none",htmlFor:"remember-me",children:"Remember me"})]}),e.jsx("a",{href:"",children:"Forgot Password?"})]}),e.jsx("div",{className:"mt-5 text-center xl:mt-8 xl:text-left",children:e.jsx(A,{variant:"primary",className:"w-full xl:mr-3",onClick:()=>{f()},children:"Login"})})]})]})})})})}export{P as default};
