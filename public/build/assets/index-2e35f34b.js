import{r as n,b as j,A as g,u,R as h,c as x,B as p,j as a}from"./app-2af70224.js";import{e as F,l as N,o as _}from"./Tracker-1908a2fb.js";import{B as y}from"./index-3de87203.js";import{F as c}from"./index-63c356af.js";import{F as l}from"./index-cd4aa086.js";import"./Transition-0d92bb52.js";import"./default-config-939e3be8.js";import"./tw-merge-fbb83fc6.js";function C(i,s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},i),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}))}const A=n.forwardRef(C),b=A,L=()=>{const i=j(),{updateAppContextState:s}=n.useContext(g),d=u(e=>{var r;return(r=e.auth)==null?void 0:r.token});u(e=>{var r;return(r=e.auth)==null?void 0:r.user});const[t,o]=h.useState({name:"",email:"",phone_number:"",fpo_id:""}),[m,v]=h.useState([]),f=()=>{s("loading",!0),x.post(`${p}/fpo/${t==null?void 0:t.fpo_id}/user/add`,t,{headers:{Authorization:`Bearer ${d}`}}).then(e=>{i(-1)}).catch(e=>{console.log(e)}).finally(()=>{s("loading",!1)})};return n.useEffect(()=>{s("loading",!0),x.get(`${p}/fpos/summary`,{headers:{Authorization:`Bearer ${d}`}}).then(e=>{var r;v((r=e==null?void 0:e.data)==null?void 0:r.data)}).catch(e=>{console.log(e)}).finally(()=>{s("loading",!1)})},[]),a.jsxs("form",{className:"py-8 px-8",onSubmit:e=>{e.preventDefault(),f()},children:[a.jsx(F,{children:"New FPO Admin User Account "}),a.jsxs("div",{className:"flex space-x-4 items-center py-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(l,{htmlFor:"name",children:"Name"}),a.jsx(c,{id:"name",required:!0,type:"text",placeholder:"Name",value:t.name,onChange:e=>o({...t,name:e.target.value})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(l,{htmlFor:"fpo_id",children:"FPO"}),a.jsx(N,{value:t==null?void 0:t.fpo_id,onValueChange:e=>o({...t,fpo_id:e}),children:m==null?void 0:m.map(e=>a.jsx(_,{value:e==null?void 0:e.id,icon:b,children:e.fpo_name},e==null?void 0:e.id))})]})]}),a.jsxs("div",{className:"flex space-x-4 items-center py-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(l,{htmlFor:"email",children:"Email"}),a.jsx(c,{id:"email",required:!0,type:"email",value:t.email,onChange:e=>o({...t,email:e.target.value})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(l,{htmlFor:"regular-form-1",children:"Phone Number"}),a.jsx(c,{id:"phone_number",required:!0,type:"text",value:t.phone_number,onChange:e=>o({...t,phone_number:e.target.value})})]})]}),a.jsx("div",{className:"flex py-4",children:a.jsx(y,{variant:"primary",className:"w-full xl:mr-3",onClick:()=>{},children:"Save"})})]})};export{L as default};
