import{a as j,b as v,r as N,A as k,R as p,j as e,k as w,m as y,n as A,v as C,B as E}from"./app-deecbc8c.js";import{B as F}from"./index-0dd7c928.js";import{F as u,a as R}from"./index-92fa22a7.js";import"./tw-merge-fbb83fc6.js";import"./default-config-939e3be8.js";function z(){const s=j(),f=v(),{updateAppContextState:r}=N.useContext(k),[o,b]=p.useState(""),[l,h]=p.useState(""),g=()=>{let a=`${E}/login`;r("loading",!0),axios.post(a,{email:o,password:l}).then(t=>{var n,i,m,c,d,x;["admin","fpo"].includes((m=(i=(n=t==null?void 0:t.data)==null?void 0:n.data)==null?void 0:i.user)==null?void 0:m.role)?(s(w(t.data.data.token)),s(y(t.data.data.user)),["fpo"].includes((x=(d=(c=t==null?void 0:t.data)==null?void 0:c.data)==null?void 0:d.user)==null?void 0:x.role)&&f("/farmers-list")):s(A({message:"You are not authorized to access this resource.",id:C()}))}).catch(t=>{console.log(t)}).finally(()=>{r("loading",!1)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"flex items-center justify-center w-full min-h-screen p-5 md:p-20",children:e.jsxs("div",{className:"w-96 intro-y",children:[e.jsx("div",{className:"text-2xl font-medium text-center text-white dark:text-slate-300 mt-14",children:"Login to Your Account!"}),e.jsxs("div",{className:"box px-5 py-8 mt-10 max-w-[450px] relative before:content-[''] before:z-[-1] before:w-[95%] before:h-full before:bg-slate-200 before:border before:border-slate-200 before:-mt-5 before:absolute before:rounded-lg before:mx-auto before:inset-x-0 before:dark:bg-darkmode-600/70 before:dark:border-darkmode-500/60",children:[e.jsx(u,{name:"email",type:"text",className:"block px-4 py-3",placeholder:"Email",value:o,onChange:a=>b(a.target.value)}),e.jsx(u,{name:"password",type:"password",className:"block px-4 py-3 mt-4",placeholder:"Password",value:l,onChange:a=>h(a.target.value)}),e.jsxs("div",{className:"flex mt-4 text-xs text-slate-500 sm:text-sm",children:[e.jsxs("div",{className:"flex items-center mr-auto",children:[e.jsx(R.Input,{id:"remember-me",type:"checkbox",className:"mr-2 border"}),e.jsx("label",{className:"cursor-pointer select-none",htmlFor:"remember-me",children:"Remember me"})]}),e.jsx("a",{href:"",children:"Forgot Password?"})]}),e.jsx("div",{className:"mt-5 text-center xl:mt-8 xl:text-left",children:e.jsx(F,{variant:"primary",className:"w-full xl:mr-3",onClick:()=>{g()},children:"Login"})})]})]})})})})}export{z as default};
